import{r as _,G as C,H as E,k as I,f as D,c as x,a as s,h as i,q as o,u as n,j as u,o as g,t,b as c,n as d}from"./index-DorqM7ya.js";import{s as f}from"./index-CU9Tc1Gi.js";import{s as v}from"./index-DMRAzI-C.js";import{s as R}from"./index-DSlDG1eH.js";import{s as L}from"./index-C7zoCffc.js";import"./index-ChQ6boSU.js";import"./index-C2nGUy0j.js";import"./index-DJUY68fS.js";import"./index-CNP9W4VC.js";const B={class:"p-4 flex flex-col gap-4"},M={key:0,class:"flex justify-center"},A={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},N={class:"space-y-2"},P={class:"flex justify-between"},T={class:"font-semibold"},U={class:"flex justify-between"},F={class:"font-semibold"},G={class:"flex justify-between"},V={class:"font-semibold"},O={class:"flex justify-between"},$={class:"font-semibold"},q={class:"flex justify-between"},z={class:"font-semibold"},H={class:"space-y-2"},W={class:"flex justify-between"},J={class:"font-semibold"},K={class:"flex justify-between"},Q={class:"font-semibold"},X={class:"flex justify-between"},Y={class:"font-semibold"},Z={class:"flex justify-between"},ss={class:"font-semibold"},es={class:"space-y-2"},ts={class:"flex justify-between"},ls={class:"font-semibold"},as={class:"flex justify-between"},os={class:"font-semibold text-green-400"},is={class:"flex justify-between"},ns={class:"font-semibold text-red-400"},rs={class:"space-y-2"},ds={class:"flex justify-between"},cs={class:"font-semibold"},fs={class:"flex justify-between"},ms={class:"flex justify-between"},ps={class:"flex justify-between"},us={class:"space-y-2"},bs={class:"flex justify-between"},ys={class:"flex justify-between"},_s={class:"flex justify-between"},xs={class:"flex justify-between"},gs={class:"flex flex-col gap-2"},Rs={__name:"SystemInfo",setup(vs){const w=_(!0),p=C(),j=E(),a=_({uptime_seconds:0,uptime_human:"",goroutines:0,memory_alloc_mb:0,memory_sys_mb:0,memory_gc_mb:0,num_cpu:0,total_proxies:0,running_proxies:0,go_version:"",os:"",arch:""}),l=_({log_level:"INFO",debug_mode:!1,metrics_enabled:!0,tls_enabled:!1,rate_limit_enabled:!0,ip_whitelist_enabled:!1,ip_blacklist_enabled:!1,email_enabled:!1});let b=null;const y=async()=>{try{const[r,e]=await Promise.all([u.get("/api/system/info"),u.get("/api/config/system")]);a.value=r.data,l.value=e.data}catch(r){console.error("Failed to fetch system info",r)}},h=()=>{y()},k=async()=>{try{const r=await u.get("/api/logs/download",{responseType:"blob"}),e=window.URL.createObjectURL(new Blob([r.data])),m=document.createElement("a");m.href=e,m.setAttribute("download","proxy.log"),document.body.appendChild(m),m.click(),m.remove(),p.add({severity:"success",summary:"Success",detail:"Logs downloaded",life:3e3})}catch{p.add({severity:"error",summary:"Error",detail:"Failed to download logs",life:5e3})}},S=()=>{j.require({message:"Are you sure you want to restart the system?",header:"Confirm Restart",icon:"pi pi-exclamation-triangle",accept:async()=>{try{await u.post("/api/system/restart"),p.add({severity:"info",summary:"Restarting",detail:"System is restarting...",life:3e3})}catch{p.add({severity:"error",summary:"Error",detail:"Failed to restart",life:3e3})}}})};return I(()=>{y(),w.value=!1,b=setInterval(y,5e3)}),D(()=>{b&&clearInterval(b)}),(r,e)=>(g(),x("div",B,[e[27]||(e[27]=s("h1",{class:"text-2xl font-bold mb-4 text-gray-200"},"System Information",-1)),w.value?(g(),x("div",M,[...e[0]||(e[0]=[s("i",{class:"pi pi-spin pi-spinner text-4xl text-blue-500"},null,-1)])])):(g(),x("div",A,[i(n(f),{class:"bg-gray-800 text-white"},{title:o(()=>[...e[1]||(e[1]=[c("System",-1)])]),content:o(()=>[s("div",N,[s("div",P,[e[2]||(e[2]=s("span",{class:"text-gray-400"},"Uptime:",-1)),s("span",T,t(a.value.uptime_human),1)]),s("div",U,[e[3]||(e[3]=s("span",{class:"text-gray-400"},"Go Version:",-1)),s("span",F,t(a.value.go_version),1)]),s("div",G,[e[4]||(e[4]=s("span",{class:"text-gray-400"},"OS:",-1)),s("span",V,t(a.value.os),1)]),s("div",O,[e[5]||(e[5]=s("span",{class:"text-gray-400"},"Architecture:",-1)),s("span",$,t(a.value.arch),1)]),s("div",q,[e[6]||(e[6]=s("span",{class:"text-gray-400"},"CPU Cores:",-1)),s("span",z,t(a.value.num_cpu),1)])])]),_:1}),i(n(f),{class:"bg-gray-800 text-white"},{title:o(()=>[...e[7]||(e[7]=[c("Memory",-1)])]),content:o(()=>[s("div",H,[s("div",W,[e[8]||(e[8]=s("span",{class:"text-gray-400"},"Allocated:",-1)),s("span",J,t(a.value.memory_alloc_mb)+" MB",1)]),s("div",K,[e[9]||(e[9]=s("span",{class:"text-gray-400"},"System:",-1)),s("span",Q,t(a.value.memory_sys_mb)+" MB",1)]),s("div",X,[e[10]||(e[10]=s("span",{class:"text-gray-400"},"Next GC:",-1)),s("span",Y,t(a.value.memory_gc_mb)+" MB",1)]),s("div",Z,[e[11]||(e[11]=s("span",{class:"text-gray-400"},"Goroutines:",-1)),s("span",ss,t(a.value.goroutines),1)])])]),_:1}),i(n(f),{class:"bg-gray-800 text-white"},{title:o(()=>[...e[12]||(e[12]=[c("Proxies",-1)])]),content:o(()=>[s("div",es,[s("div",ts,[e[13]||(e[13]=s("span",{class:"text-gray-400"},"Total:",-1)),s("span",ls,t(a.value.total_proxies),1)]),s("div",as,[e[14]||(e[14]=s("span",{class:"text-gray-400"},"Running:",-1)),s("span",os,t(a.value.running_proxies),1)]),s("div",is,[e[15]||(e[15]=s("span",{class:"text-gray-400"},"Stopped:",-1)),s("span",ns,t(a.value.total_proxies-a.value.running_proxies),1)])])]),_:1}),i(n(f),{class:"bg-gray-800 text-white"},{title:o(()=>[...e[16]||(e[16]=[c("Configuration",-1)])]),content:o(()=>[s("div",rs,[s("div",ds,[e[17]||(e[17]=s("span",{class:"text-gray-400"},"Log Level:",-1)),s("span",cs,t(l.value.log_level),1)]),s("div",fs,[e[18]||(e[18]=s("span",{class:"text-gray-400"},"Debug Mode:",-1)),s("span",{class:d(["font-semibold",l.value.debug_mode?"text-green-400":"text-red-400"])},t(l.value.debug_mode?"Enabled":"Disabled"),3)]),s("div",ms,[e[19]||(e[19]=s("span",{class:"text-gray-400"},"Metrics:",-1)),s("span",{class:d(["font-semibold",l.value.metrics_enabled?"text-green-400":"text-red-400"])},t(l.value.metrics_enabled?"Enabled":"Disabled"),3)]),s("div",ps,[e[20]||(e[20]=s("span",{class:"text-gray-400"},"TLS:",-1)),s("span",{class:d(["font-semibold",l.value.tls_enabled?"text-green-400":"text-red-400"])},t(l.value.tls_enabled?"Enabled":"Disabled"),3)])])]),_:1}),i(n(f),{class:"bg-gray-800 text-white"},{title:o(()=>[...e[21]||(e[21]=[c("Security",-1)])]),content:o(()=>[s("div",us,[s("div",bs,[e[22]||(e[22]=s("span",{class:"text-gray-400"},"Rate Limiting:",-1)),s("span",{class:d(["font-semibold",l.value.rate_limit_enabled?"text-green-400":"text-red-400"])},t(l.value.rate_limit_enabled?"Enabled":"Disabled"),3)]),s("div",ys,[e[23]||(e[23]=s("span",{class:"text-gray-400"},"IP Whitelist:",-1)),s("span",{class:d(["font-semibold",l.value.ip_whitelist_enabled?"text-green-400":"text-red-400"])},t(l.value.ip_whitelist_enabled?"Enabled":"Disabled"),3)]),s("div",_s,[e[24]||(e[24]=s("span",{class:"text-gray-400"},"IP Blacklist:",-1)),s("span",{class:d(["font-semibold",l.value.ip_blacklist_enabled?"text-green-400":"text-red-400"])},t(l.value.ip_blacklist_enabled?"Enabled":"Disabled"),3)]),s("div",xs,[e[25]||(e[25]=s("span",{class:"text-gray-400"},"Email Alerts:",-1)),s("span",{class:d(["font-semibold",l.value.email_enabled?"text-green-400":"text-red-400"])},t(l.value.email_enabled?"Enabled":"Disabled"),3)])])]),_:1}),i(n(f),{class:"bg-gray-800 text-white"},{title:o(()=>[...e[26]||(e[26]=[c("Actions",-1)])]),content:o(()=>[s("div",gs,[i(n(v),{onClick:h,label:"Refresh",icon:"pi pi-refresh",class:"w-full"}),i(n(v),{onClick:k,label:"Download Logs",icon:"pi pi-download",severity:"secondary",class:"w-full"}),i(n(v),{onClick:S,label:"Restart System",icon:"pi pi-power-off",severity:"danger",class:"w-full"})])]),_:1})])),i(n(R)),i(n(L))]))}};export{Rs as default};
