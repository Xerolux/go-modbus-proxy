import{B as g,aB as E,Q as v,at as b,aN as O,aO as h,a9 as T,aP as j,y,p as P,d as x,o as w,T as B,aQ as I,aR as S,aS as k}from"./index-DorqM7ya.js";import{B as C}from"./index-DMRAzI-C.js";function L(){let t=[],e=(n,s,c=999)=>{let i=a(n,s,c),l=i.value+(i.key===n?0:c)+1;return t.push({key:n,value:l}),l},o=n=>{t=t.filter(s=>s.value!==n)},r=(n,s)=>a(n).value,a=(n,s,c=0)=>[...t].reverse().find(i=>!0)||{key:n,value:c},u=n=>n&&parseInt(n.style.zIndex,10)||0;return{get:u,set:(n,s,c)=>{s&&(s.style.zIndex=String(e(n,!0,c)))},clear:n=>{n&&(o(u(n)),n.style.zIndex="")},getCurrent:n=>r(n)}}var V=L(),H=g.extend({name:"focustrap-directive"}),D=C.extend({style:H});function m(t){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(t)}function F(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,r)}return o}function $(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?F(Object(o),!0).forEach(function(r){N(t,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))})}return t}function N(t,e,o){return(e=z(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function z(t){var e=A(t,"string");return m(e)=="symbol"?e:e+""}function A(t,e){if(m(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var r=o.call(t,e);if(m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q=D.extend("focustrap",{mounted:function(e,o){var r=o.value||{},a=r.disabled;a||(this.createHiddenFocusableElements(e,o),this.bind(e,o),this.autoElementFocus(e,o)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,o){var r=o.value||{},a=r.disabled;a&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,o){var r=this,a=o.value||{},u=a.onFocusIn,n=a.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(s){s.forEach(function(c){if(c.type==="childList"&&!e.contains(document.activeElement)){var i=function(f){var d=h(f)?h(f,r.getComputedSelector(e.$_pfocustrap_focusableselector))?f:b(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):b(f);return T(d)?d:f.nextSibling&&i(f.nextSibling)};v(i(c.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(s){return u&&u(s)},e.$_pfocustrap_focusoutlistener=function(s){return n&&n(s)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:$($({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,o){var r=o.value||{},a=r.autoFocusSelector,u=a===void 0?"":a,n=r.firstFocusableSelector,s=n===void 0?"":n,c=r.autoFocus,i=c===void 0?!1:c,l=b(e,"[autofocus]".concat(this.getComputedSelector(u)));i&&!l&&(l=b(e,this.getComputedSelector(s))),v(l)},onFirstHiddenElementFocus:function(e){var o,r=e.currentTarget,a=e.relatedTarget,u=a===r.$_pfocustrap_lasthiddenfocusableelement||!((o=this.$el)!==null&&o!==void 0&&o.contains(a))?b(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;v(u)},onLastHiddenElementFocus:function(e){var o,r=e.currentTarget,a=e.relatedTarget,u=a===r.$_pfocustrap_firsthiddenfocusableelement||!((o=this.$el)!==null&&o!==void 0&&o.contains(a))?E(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;v(u)},createHiddenFocusableElements:function(e,o){var r=this,a=o.value||{},u=a.tabIndex,n=u===void 0?0:u,s=a.firstFocusableSelector,c=s===void 0?"":s,i=a.lastFocusableSelector,l=i===void 0?"":i,f=function(_){return O("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:n,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:_?.bind(r)})},d=f(this.onFirstHiddenElementFocus),p=f(this.onLastHiddenElementFocus);d.$_pfocustrap_lasthiddenfocusableelement=p,d.$_pfocustrap_focusableselector=c,d.setAttribute("data-pc-section","firstfocusableelement"),p.$_pfocustrap_firsthiddenfocusableelement=d,p.$_pfocustrap_focusableselector=l,p.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(d),e.append(p)}}}),K={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=j()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function Q(t,e,o,r,a,u){return u.inline?y(t.$slots,"default",{key:0}):a.mounted?(w(),P(B,{key:1,to:o.appendTo},[y(t.$slots,"default")],8,["to"])):x("",!0)}K.render=Q;function G(){k({variableName:S("scrollbar.width").name})}function J(){I({variableName:S("scrollbar.width").name})}export{q as F,G as b,K as s,J as u,V as x};
